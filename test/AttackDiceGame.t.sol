// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "../src/AttackDiceGame.sol";
import "../src/DiceGame.sol";

contract TestAttackDiceGame is Test {
    AttackDicegame attackDicegame;
    DiceGame dicegame;

    function setUp() public {
        dicegame = new DiceGame{value: 10 ether}();
        attackDicegame = new AttackDicegame{value: 0.002 ether}( payable (address(dicegame)));
    }

    function testRolldice() public {
        bool success = attackDicegame.rooleDicee();
        if (success) {
            assertEq(address(attackDicegame).balance, ((address(dicegame).balance * 10) / 100));
        } else {
            assertEq(address(attackDicegame).balance, 0.002 ether);
        }
    }
}
